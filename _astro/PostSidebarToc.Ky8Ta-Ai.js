import{r as y,a}from"./index.CcfSqGrV.js";var x={exports:{}},i={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v;function E(){if(v)return i;v=1;var o=y(),c=Symbol.for("react.element"),l=Symbol.for("react.fragment"),p=Object.prototype.hasOwnProperty,h=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function r(t,e,s){var n,u={},m=null,_=null;s!==void 0&&(m=""+s),e.key!==void 0&&(m=""+e.key),e.ref!==void 0&&(_=e.ref);for(n in e)p.call(e,n)&&!d.hasOwnProperty(n)&&(u[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)u[n]===void 0&&(u[n]=e[n]);return{$$typeof:c,type:t,key:m,ref:_,props:u,_owner:h.current}}return i.Fragment=l,i.jsx=r,i.jsxs=r,i}var R;function O(){return R||(R=1,x.exports=E()),x.exports}var f=O();function S(){const[o,c]=a.useState([]),[l,p]=a.useState(!1),h={root:null,rootMargin:"0% 0px -60% 0px",thredshold:0};a.useEffect(()=>{const r=document.querySelectorAll(".post-content h1,.post-content h2,.post-content h3");o.length===0&&(r.forEach((t,e)=>{t.id=`content-h-${e+1}`,o.push({title:t.textContent??"",isActive:!1,anchorLink:`#content-h-${e+1}`,isH3:t.tagName==="H3"})}),c([...o]))},[]),a.useEffect(()=>{if(l)return;const r=document.querySelectorAll(".post-content h1,.post-content h2,.post-content h3"),t=new IntersectionObserver(e=>{for(const s of e)if(s.isIntersecting===!0){o.forEach(n=>{n.anchorLink==="#"+s.target.id?n.isActive=!0:n.isActive=!1}),c([...o]);return}},h);r.forEach(e=>t.observe(e)),p(!0)},[o]);function d(r){const t=[];for(const e in r)r[e]&&t.push(e);return t.join(" ")}return f.jsx("div",{className:"toc p-3 shadow mb-4",children:f.jsx("ul",{className:"p-0 m-0",children:o.map((r,t)=>f.jsx("li",{children:f.jsx("a",{href:r.anchorLink,className:d({active:r.isActive,"sidebar-h3":r.isH3,"d-block":!0}),children:r.title})},t))})})}export{S as default};
