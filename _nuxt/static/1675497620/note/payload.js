__NUXT_JSONP__("/note", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D){return {data:[{page:i,notes:[{_id:"638c4746ca4a512e0c08f9eb",_sys:{raw:{createdAt:"2022-12-04T07:07:50.740Z",updatedAt:e,firstPublishedAt:e,publishedAt:e},customOrder:4,createdAt:e,updatedAt:e},title:p,slug:"send-error-by-laravel-smtp-occur-in-cloud-run",meta:{title:p,description:"GCPのCloudRun上でLaravelのSMTPのメール送信メソッドで送信した時にエラーが発生  ローカルの環境ではエラーは発生しない。",ogimage:{_id:q,altText:a,description:a,fileName:r,fileSize:s,fileType:f,height:t,metadata:{},src:u,title:a,width:j}},body:"\u003Ch2\u003Eエラー内容\u003C\u002Fh2\u003E\n\u003Cp\u003EGCPのCloudRun上でLaravelのSMTPのメール送信メソッドで送信した時にエラーが発生\u003C\u002Fp\u003E\n\u003Cp\u003Eローカルの環境ではエラーは発生しない。\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-log\"\u003Elocal.ERROR: Expected response code &quot;250&quot; but got code &quot;550&quot;, with message &quot;550 5.7.1 &lt;保有しているメールアドレス&gt;... Command rejected&quot;. \n\n....&quot;exception&quot;:&quot;[object] (Symfony\\\\Component\\\\Mailer\\\\Exception\\\\TransportException(code: 550): Expected response code \\&quot;250\\&quot; but got code \\&quot;550\\&quot;, with message \\&quot;550 5.7.1 &lt;&gt;... Command rejected\\&quot;. at \u002Fvar\u002Fwww\u002F*****\u002Fvendor\u002Fsymfony\u002Fmailer\u002FTransport\u002FSmtp\u002FSmtpTransport.php:308)...\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Ch2\u003E原因\u003C\u002Fh2\u003E\n\u003Cp\u003Eサクラのレンタルサーバーの設定で、メールの国外IPアドレスフィルタを設定していたため、弾かれていた\u003C\u002Fp\u003E\n\u003Ch2\u003E解決策\u003C\u002Fh2\u003E\n\u003Cp\u003Eアクセス制限設定を解除（無効化）する。\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fik.imagekit.io\u002Fmasahikoproject\u002F5793c916-b9cd-4046-9f71-8aaaa3eb45e3\u002F%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%880004-10-1215.17.19.png\" alt=\"スクリーンショット0004-10-1215.17.19.png\"\u003E\u003C\u002Fp\u003E\n",author:{_id:v,_sys:{raw:{createdAt:b,updatedAt:c,firstPublishedAt:b,publishedAt:c},createdAt:b,updatedAt:c},name:g,slug:g,biography:w,image:{_id:x,altText:a,description:a,fileName:y,fileSize:z,fileType:A,height:h,metadata:{},src:B,title:a,width:h}},tags:[{_id:"638c478cca4a512e0c0901bb",_sys:{raw:{createdAt:k,updatedAt:l,firstPublishedAt:k,publishedAt:l},customOrder:15,createdAt:k,updatedAt:l},name:"Cloud Run",slug:"cloud-run",image:{_id:"638c4773ca4a512e0c0900d2",altText:a,description:a,fileName:"google-cloud-run.svg",fileSize:940,fileType:f,height:231,metadata:{},src:"https:\u002F\u002Fik.imagekit.io\u002Fmasahikoproject\u002Fad07d909-e9d9-4a71-bb94-e350f14c72c2\u002Fgoogle-cloud-run.svg",title:a,width:j}},{_id:"638c46cfca4a512e0c08f226",_sys:{raw:{createdAt:d,updatedAt:d,firstPublishedAt:d,publishedAt:d},customOrder:14,createdAt:d,updatedAt:d},name:"Laravel",slug:"laravel",image:{_id:q,altText:a,description:a,fileName:r,fileSize:s,fileType:f,height:t,metadata:{},src:u,title:a,width:j}}]},{_id:"636170453548a57ba116761e",_sys:{raw:{createdAt:"2022-11-01T19:15:17.916Z",updatedAt:m,firstPublishedAt:C,publishedAt:m},customOrder:3,createdAt:C,updatedAt:m},title:"GCSにアップロードしたPDFのリンクが勝手にダウンロードしてしまう",slug:"gcs-pdf-open-another-tab",body:"\u003Ch2\u003E問題\u003C\u002Fh2\u003E\n\u003Cp\u003EGoogleCloudStorageでアップロードしたpdfのリンクをクリックするとPDF viewerが開かずにダウンロードされる。\u003C\u002Fp\u003E\n\u003Ch2\u003E原因\u003C\u002Fh2\u003E\n\u003Cp\u003Eファイルアップロード時に、\u003Ccode\u003EContent-Type\u003C\u002Fcode\u003Eを明示的に指定しないと、\u003Ccode\u003EContent-Type\u003C\u002Fcode\u003Eが勝手に\u003Ccode\u003Eapplication\u002Foctet-stream\u003C\u002Fcode\u003Eとなってしまい、ファイルの種類が分からないが故に、ダウンロードしてしまうようです。\u003C\u002Fp\u003E\n\u003Cp\u003EGoogle Cloud Storageで「種類」をしていすることでPDF Viewerで開くことができます。\u003C\u002Fp\u003E\n\u003Ch2\u003E解決策\u003C\u002Fh2\u003E\n\u003Cp\u003Eプログラムで明示的にContentTypeを指定します。\u003C\u002Fp\u003E\n\u003Ch3\u003EGCSから設定する場合\u003C\u002Fh3\u003E\n\u003Cp\u003Eオブジェクトの詳細から、「メタデータを編集」をクリックします。その際に開くモーダルウインドウでContent-Typeを指定します。\u003C\u002Fp\u003E\n\u003Ch3\u003EC#の例\u003C\u002Fh3\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-cs\"\u003Estorage.UploadObject(bucketName, objectName, contentType, FileSource);\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Ch3\u003Eコマンド\u003C\u002Fh3\u003E\n\u003Cp\u003Eすでにアップロードしているファイルは、以下のコマンドで一括変更が可能\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-bash\"\u003Egsutil ls &quot;gs:\u002F\u002Fmy-bucket-name\u002Ffolder-name\u002F&quot; \\\n| grep &quot;\\.pdf&quot; \\\n| xargs -I {} gsutil setmeta -h &quot;Content-Type: application\u002Fpdf&quot; &quot;{}&quot;\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n",author:{_id:v,_sys:{raw:{createdAt:b,updatedAt:c,firstPublishedAt:b,publishedAt:c},createdAt:b,updatedAt:c},name:g,slug:g,biography:w,image:{_id:x,altText:a,description:a,fileName:y,fileSize:z,fileType:A,height:h,metadata:{},src:B,title:a,width:h}},tags:[{_id:"636172993548a57ba116a49e",_sys:{raw:{createdAt:n,updatedAt:o,firstPublishedAt:n,publishedAt:o},customOrder:13,createdAt:n,updatedAt:o},name:"Cloud Storage",slug:"google-cloud-storage",image:{_id:"6361727b3548a57ba116a3b5",altText:a,description:a,fileName:"cloud_storage.svg",fileSize:745,fileType:f,height:D,metadata:{},src:"https:\u002F\u002Fik.imagekit.io\u002Fmasahikoproject\u002F966a47dd-970a-4d41-a073-d8515f12d909\u002Fcloud_storage.svg",title:a,width:D}}]}],noteMeta:{rows:i,perPage:20,currentPage:i}}],fetch:{},mutations:void 0}}("","2021-12-01T08:43:09.433Z","2023-02-04T07:00:38.318Z","2022-12-04T07:05:51.813Z","2022-12-04T07:10:50.062Z","image\u002Fsvg+xml","masa",2689,1,256,"2022-12-04T07:09:00.714Z","2022-12-04T07:16:39.540Z","2022-11-01T19:27:41.821Z","2022-11-01T19:25:13.490Z","2022-12-04T07:24:35.499Z","Cliud Run上で、LaravelのSMTP のメール送信エラーが発生してしまう","638c46b3ca4a512e0c08f13c","laravel.svg",2229,264,"https:\u002F\u002Fik.imagekit.io\u002Fmasahikoproject\u002Fd456b660-e277-4141-89f2-322016184008\u002Flaravel.svg","61a7359d8131ac001847fbb4","\u003Cp\u003EWebエンジニアです。\u003C\u002Fp\u003E\u003Cp\u003Eよろしくお願いします。\u003C\u002Fp\u003E","63de027516bdb9179566c9ba","IMG_20191028_124950_2.jpg",611177,"image\u002Fjpeg","https:\u002F\u002Fik.imagekit.io\u002Fmasahikoproject\u002F7e195ec3-1779-4c5f-9f0e-1d0bcf7d6c34\u002FIMG_20191028_124950_2.jpg","2022-11-01T19:25:21.280Z",24)));